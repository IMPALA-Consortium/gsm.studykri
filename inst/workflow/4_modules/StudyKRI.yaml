meta:
  Type: Module
  ID: StudyKRI
  Description: Generate study KRI comparison charts and HTML report

steps:
  # Step 1: Generate charts using bound results
  - output: lCharts
    name: gsm.studykri::MakeCharts_StudyKRI
    params:
      dfResults: Reporting_Results
      dfBounds: Reporting_Bounds
      dfBoundsRef: Reporting_BoundsRef
      dfMetrics: Reporting_Metrics
      nMaxMonth: null
      
  # Step 2: Generate HTML report using gsm.kri
  - output: strReportPath
    name: gsm.studykri::Report_KRI_StudyKRI
    params:
      lCharts: lCharts
      dfResults: Reporting_Results
      dfGroups: Reporting_Groups
      dfMetrics: Reporting_Metrics
      strOutputFile: "report_studykri.html"
      strInputPath: null  # Set dynamically when calling workflow

